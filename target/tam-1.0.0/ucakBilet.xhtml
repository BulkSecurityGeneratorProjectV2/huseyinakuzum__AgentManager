<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui">
<h:body>
    <h:outputStylesheet library="css" name="datepicker.css"/>
    <ui:composition template="/template/common/commonLayout.xhtml">
        <ui:define name="content">
            <h:inputHidden id="seatInputBilet" value="#{ticketBean.seatName}"/>
            <h:inputHidden id="seatVar" value="#{ticketBean.seat}"/>

            <div class="row sameheiggt-container">
                <div class="col-md-11">
                    <div class="card card-block">
                        <div class="title-block">
                            <h3 class="title">Pnr Bilgileri:</h3>
                        </div>
                        <h:form role="form" id="pnrForm">
                            <div class="form-group has-success">
                                <div class="form-group">
                                    <div class="col-md-2">
                                        <h:outputLabel styleClass="control-label" for="pnr"
                                                       value="PNR"/>
                                        <p:inputMask type="text" styleClass="form-control" name="pnr"
                                                     id="pnr" mask="******" pt:placeholder="PNR"
                                                     style="text-transform: uppercase"
                                                     value="#{ticketBean.pnr.pnrNo}"
                                                     requiredMessage="Lütfen PNR no Giriniz" required="true"/>
                                        <span id="pnr-error" class="has-error"> <h:message
                                                for="pnr"/>
										</span>
                                    </div>

                                    <div class="row form-group">
                                        <div class="col-md-3">
                                            <h:outputLabel styleClass="control-label" for="option"
                                                           value="Opsiyon Tarihi"/>
                                            <p:calendar pt:placeholder="Opsiyon Tarihi"
                                                        value="#{ticketBean.pnr.optionDate}" name="option"
                                                        id="option" pattern="dd/MM/yyyy" mask="true"></p:calendar>
                                        </div>
                                        <div class="col-md-3">
                                            <h:outputLabel styleClass="control-label" for="type"
                                                           value="PNR tipi"/>
                                            <h:selectOneMenu type="text" styleClass="form-control  "
                                                             value="#{ticketBean.pnr.type}" id="type">
                                                <f:selectItem itemValue="OW" itemLabel="One Way Flight"/>
                                                <f:selectItem itemValue="RT" itemLabel="Round Trip Flight"/>
                                                <f:selectItem itemValue="HH" itemLabel="Hotel"/>
                                            </h:selectOneMenu>
                                        </div>
                                        <div class="col-md-2">
                                            <h:outputLabel styleClass="control-label" for="status"
                                                           value="Statü"/>
                                            <h:selectOneMenu type="text" id="status"
                                                             styleClass="form-control" value="#{ticketBean.pnr.status}">
                                                <f:selectItem itemValue="OK" itemLabel="Aktif"/>
                                                <f:selectItem itemValue="CX" itemLabel="İptal"/>
                                                <f:ajax render="pnrForm:canceldiv"/>
                                            </h:selectOneMenu>
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col-md-5">
                                            <h:outputLabel styleClass="control-label" for="note"
                                                           value="Not"/>
                                            <h:inputTextarea rows="4" cols="33"
                                                             styleClass="form-control  " name="not" id="note"
                                                             pt:placeholder="Not" value="#{ticketBean.pnr.note}"/>
                                        </div>
                                        <h:panelGroup id="canceldiv">
                                            <ui:fragment rendered="#{ticketBean.pnr.status == 'CX'}">
                                                <div class="col-md-5">
                                                    <h:outputLabel styleClass="control-label" for="cancel"
                                                                   value="İptal Sebebi"/>
                                                    <h:inputTextarea rows="4" cols="33"
                                                                     styleClass="form-control  " name="cancel"
                                                                     id="cancel"
                                                                     pt:placeholder="İptal Sebebi"
                                                                     value="#{ticketBean.pnr.cancelReason}"/>
                                                </div>
                                            </ui:fragment>
                                        </h:panelGroup>
                                    </div>
                                    <div class="row form-group">
                                        <h:commandButton id="pnr-ekle" value="Pnr Ekle"
                                                         action="#{ticketBean.savePnr()}">
                                            <f:ajax execute="@form" render="pnrForm"/>
                                            <i class="fa fa-check-circle" title="Add New"/>
                                        </h:commandButton>
                                        #{ticketBean.seatName}
                                        #{ticketBean.selectedSeat}
                                    </div>
                                </div>
                            </div>
                        </h:form>
                    </div>
                </div>
            </div>
            <div class="row sameheight-container">
                <div class="col-md-11">
                    <div class="card card-block ">
                        <div class="title-block">
                            <h3 class="title">İletişim Bilgileri:</h3>
                        </div>
                        <h:form role="form" id="contactForm">
                            <div class="form-group has-success">
                                <div class="row form-group">
                                    <div class="col-md-3">
                                        <h:outputLabel styleClass="control-label" for="eposta"
                                                       value="E-posta"/>
                                        <h:inputText type="text" styleClass="form-control  "
                                                     name="eposta" id="eposta"
                                                     pt:placeholder="Maksimum 50 karakter"
                                                     value="#{ticketBean.contactInfo.email}"
                                                     requiredMessage="Lütfen E-posta Giriniz" required="true"/>
                                        <span id="eposta-error" class="has-error"> <h:message
                                                for="eposta"/>
										</span>
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <div class="col-md-2">
                                        <h:outputLabel styleClass="coantrol-label" for="mobile"
                                                       value="Cep Telefonu" class="cursor"/>
                                        <p:inputMask type="text" styleClass="form-control  "
                                                     name="mobile" id="mobile" mask="+99 (999) 999-9999"
                                                     pt:placeholder="Cep telefonu"
                                                     value="#{ticketBean.contactInfo.mobile}"
                                                     requiredMessage="Lütfen Telefon Giriniz" required="true"/>
                                        <span id="mobile-error" class="has-error"> <h:message
                                                for="mobile"/>
										</span>
                                    </div>
                                    <div class="col-md-2">
                                        <h:outputLabel styleClass="control-label" for="home"
                                                       value="Ev Telefonu"/>
                                        <p:inputMask type="text" styleClass="form-control  "
                                                     name="home" id="home" mask="+99 (999) 999-9999"
                                                     pt:placeholder="Telefon numaranız"
                                                     value="#{ticketBean.contactInfo.homePhone}"/>
                                    </div>
                                    <div class="col-md-2">
                                        <h:outputLabel styleClass="control-label" for="work"
                                                       value="İş Telefonu"/>
                                        <p:inputMask type="text" styleClass="form-control  "
                                                     name="work" id="work" mask="+99 (999) 999-9999"
                                                     pt:placeholder="Telefon numaranız"
                                                     value="#{ticketBean.contactInfo.companyPhone}"/>
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <div class="col-md-6">
                                        <h:outputLabel styleClass="control-label" for="address"
                                                       value="Adres"/>
                                        <h:inputTextarea rows="6" cols="33" styleClass="form-control"
                                                         name="address" id="address"
                                                         pt:placeholder="Adress Bilgileriniz"
                                                         value="#{ticketBean.contactInfo.address}"
                                                         requiredMessage="Lütfen adres bilgisi Giriniz"
                                                         required="true"/>
                                        <span id="address-error" class="has-error"> <h:message
                                                for="address"/>
										</span>
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <h:commandButton id="submit" value="Bağlantı Ekle"
                                                     action="#{ticketBean.saveContactInfo()}">
                                        <f:ajax execute="@form" render="contactForm"/>
                                        <i class="fa fa-check-circle" title="Add New"/>
                                    </h:commandButton>
                                </div>
                            </div>
                        </h:form>
                    </div>
                </div>
            </div>
            <div class="row sameheight-container">
                <div class="col-md-11">
                    <div class="card card-block ">
                        <div class="title-block">
                            <h3 class="title">Uçuş Bilgileri:</h3>
                        </div>
                        <!-- UÇUŞ BİLGİLERİ TABLOSU -->
                        <h:form role="form" id="ucusForm">
                            <div class="row form-group">
                                <div class="col-lg-10">
                                    <h:dataTable id="ucusTablo" class="table table-hover"
                                                 value="#{ticketBean.segmentList}" var="s" rendered="true">
                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputText value="AA Kodu"/>
                                            </f:facet>
                                            <h:outputText value="#{s.aaCode}"/>
                                            <f:facet name="footer">
                                                <p:inputMask id="aacode" type="text"
                                                             styleClass="form-control  "
                                                             style="text-transform: uppercase" mask="aa?a"
                                                             value="#{ticketBean.segment.aaCode}"
                                                             pt:placeholder="Airline Code"
                                                             requiredMessage="Lütfen Havayolu şirketinin kodunu giriniz"
                                                             required="true">
                                                    <p:keyFilter regEx="/[a-z]{2,3}"/>
                                                </p:inputMask>
                                                <span id="aacode-error" class="has-error"> <p:message
                                                        for="aacode"/>
												</span>
                                            </f:facet>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputText value="Uçuş Kodu"/>
                                            </f:facet>
                                            <h:outputText value="#{s.fltNo}"/>
                                            <f:facet name="footer">
                                                <p:inputMask id="fltcode" type="text"
                                                             styleClass="form-control" mask="999"
                                                             value="#{ticketBean.segment.fltNo}"
                                                             pt:placeholder="Flight Code"
                                                             requiredMessage="Lütfen uçuş kodunu giriniz"
                                                             required="true"/>
                                                <span id="fltcode-error" class="has-error"> <p:message
                                                        for="fltcode"/>
												</span>
                                            </f:facet>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputText value="Kalkış Portu"/>
                                            </f:facet>
                                            <h:outputText value="#{s.portByDepPort.name}"/>
                                            <f:facet name="footer">
                                                <p:autoComplete id="kalkis" minQueryLength="3"
                                                                emptyMessage="Havalimanı bulunamadı."
                                                                placeholder="Kalkış Portu"
                                                                value="#{ticketBean.segment.portByDepPort.name}"
                                                                forceSelection="true"
                                                                completeMethod="#{ticketBean.complete}" required="true">
                                                    <p:ajax event="keyup"/>
                                                </p:autoComplete>
                                                <span id="kalkis-error" class="has-error"> <h:message
                                                        for="kalkis"/>
												</span>
                                            </f:facet>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputText value="Varış Portu"/>
                                            </f:facet>
                                            <h:outputText value="#{s.portByArrPort.name}"/>
                                            <f:facet name="footer">
                                                <p:autoComplete id="varis" minQueryLength="3"
                                                                emptyMessage="Havalimanı bulunamadı."
                                                                placeholder="Varış Portu"
                                                                value="#{ticketBean.segment.portByArrPort.name}"
                                                                forceSelection="true"
                                                                completeMethod="#{ticketBean.complete}" required="true">
                                                    <p:ajax event="keyup"/>
                                                </p:autoComplete>
                                                <span id="username-error" class="has-error"> <h:message
                                                        for="varis"/>
												</span>
                                            </f:facet>
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputText value="Uçuş Tarihi"/>
                                            </f:facet>
                                            <h:outputText value="#{s.depDate.toGMTString()}"/>
                                            <f:facet name="footer">
                                                <p:calendar id="dep" pt:placeholder="Gidiş Tarihiniz"
                                                            pattern="dd/MM/yyyy" mask="true"
                                                            value="#{ticketBean.segment.depDate}"/>
                                            </f:facet>
                                        </h:column>
                                    </h:dataTable>
                                    <div class="col-xs-2">
                                        <div class="row form-group">
                                            <h:commandButton id="ucus-ekle" value="Uçuş Ekle"
                                                             action="#{ticketBean.saveSegment()}">
                                                <f:ajax execute="@form" render="ucusTablo seatForm:seatTablo"/>
                                                <i class="fa fa-check-circle" title="Add New"/>
                                            </h:commandButton>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </h:form>
                    </div>
                </div>
            </div>
            <div class="row sameheight-container">
                <div class="col-md-11">
                    <div class="card card-block ">
                        <div class="title-block">
                            <h3 class="title">Yolcu Bilgileri:</h3>
                        </div>
                        <f:view>
                            <h:form role="form" id="yolcuForm">

                                <div class="row form-group">
                                    <div class="col-xs-10">
                                        <h:dataTable id="yolcuTablo" class="table table-hover"
                                                     value="#{ticketBean.paxList}" var="p" rendered="true">
                                            <h:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Adı"/>
                                                </f:facet>
                                                <h:outputText value="#{p.name}"/>
                                                <f:facet name="footer">
                                                    <h:inputText type="text" styleClass="form-control"
                                                                 name="ad" id="ad" pt:placeholder="Adınız"
                                                                 value="#{ticketBean.pax.name}"
                                                                 requiredMessage="Lütfen Adınızı Giriniz"
                                                                 required="true"/>

                                                    <span id="ad-error" class="has-error"> <h:message
                                                            for="ad"/>
													</span>
                                                </f:facet>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Soyadı"/>
                                                </f:facet>
                                                <h:outputText value="#{p.surname}"/>
                                                <f:facet name="footer">
                                                    <h:inputText type="text" styleClass="form-control  "
                                                                 name="soyad" id="soyad" pt:placeholder="Soyadınız"
                                                                 value="#{ticketBean.pax.surname}"
                                                                 requiredMessage="Lütfen Soyadınızı Giriniz"
                                                                 required="true"/>
                                                    <span id="soyad-error" class="has-error"> <h:message
                                                            for="soyad"/>
													</span>
                                                </f:facet>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Doğum Tarihi"/>
                                                </f:facet>
                                                <h:outputText value="#{p.birthdate.toLocaleString()}"/>
                                                <f:facet name="footer">
                                                    <p:calendar pt:placeholder="Doğum Tarihi"
                                                                value="#{ticketBean.pax.birthdate}" name="Dogum"
                                                                id="Dogum" pattern="dd/MM/yyyy" mask="true"
                                                                requiredMessage="Lütfen Doğum Tarihi Giriniz"
                                                                required="true"/>
                                                    <span id="dogum-error" class="has-error"> <h:message
                                                            for="Dogum"/>
													</span>
                                                </f:facet>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">
                                                    <h:outputLabel value="Pasaport No"/>
                                                </f:facet>
                                                <h:outputText value="#{p.passportNo}"/>
                                                <f:facet name="footer">
                                                    <h:inputText type="text" styleClass="form-control  "
                                                                 name="Passport" id="Passport"
                                                                 pt:placeholder="Pasaport No"
                                                                 value="#{ticketBean.pax.passportNo}"
                                                                 requiredMessage="Lütfen Passport No Giriniz"
                                                                 required="true"/>
                                                    <span id="passport-error" class="has-error"> <h:message
                                                            for="Passport"/>
													</span>
                                                </f:facet>
                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">
                                                    <h:outputLabel value="Şirket"/>
                                                </f:facet>
                                                <h:outputText value="#{p.company}"/>
                                                <f:facet name="footer">
                                                    <h:inputText type="text" styleClass="form-control  "
                                                                 name="sirket" id="sirket" pt:placeholder="Şirket"
                                                                 value="#{ticketBean.pax.company}"/>
                                                </f:facet>
                                            </h:column>

                                        </h:dataTable>
                                        <div class="col-xs-2">
                                            <div class="row form-group">
                                                <h:commandButton id="yolcu-ekle" value="Yolcu Ekle"
                                                                 action="#{ticketBean.savePax()}">
                                                    <f:ajax execute="@form" render="yolcuTablo seatForm:seatTablo"/>
                                                    <i class="fa fa-check-circle" title="Add New"/>
                                                </h:commandButton>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </h:form>

                        </f:view>
                    </div>
                </div>
            </div>

            <div class="row sameheight-container">
                <div class="col-md-11">
                    <div class="card card-block ">
                        <div class="title-block">
                            <h3 class="title">Yolcu Bilgileri:</h3>
                        </div>
                        <f:view>
                            <h:form role="form" id="seatForm">

                                <div class="row form-group">
                                    <div class="col-xs-10">
                                        <h:dataTable id="seatTablo" class="table table-hover"
                                                     value="#{ticketBean.seats}" var="se" rendered="true">

                                            <h:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Adi"/>
                                                </f:facet>
                                                <h:outputText value="#{se.coupon.ticket.pax.name}"/>

                                            </h:column>

                                            <h:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Soyadi"/>
                                                </f:facet>
                                                <h:outputText value="#{se.coupon.ticket.pax.surname}"/>

                                            </h:column>

                                            <h:column>
                                                <f:facet name="header">
                                                    <h:outputText value="Dep Port"/>
                                                </f:facet>
                                                <h:outputText value="#{se.segment.portByDepPort.code}"/>

                                            </h:column>
                                            <h:column>
                                                <f:facet name="header">
                                                    <h:outputLabel value="Arr Port"/>
                                                </f:facet>
                                                <h:outputText value="#{se.segment.portByArrPort.code}"/>


                                            </h:column>

                                            <h:column>
                                                <f:facet name="header">
                                                    <h:outputLabel value="Date"/>
                                                </f:facet>
                                                <h:outputText value="#{se.segment.depDate}"/>

                                            </h:column>

                                            <h:column>
                                                <f:facet name="header">
                                                    <h:outputLabel value="Koltuk"/>
                                                </f:facet>
                                                <h:outputText value="#{se.seatName}"/>

                                            </h:column>

                                            <h:column>
                                                <h:commandButton id="koltuk-sec" value="#Koltuk Sec"
                                                                 action="/seatSelect.jsf?faces-redirect=true">
                                                    <f:ajax listener="#{ticketBean.indexOfSeats(se)}"/>
                                                    <f:ajax execute="@form" render="seatTablo"/>
                                                    <i class="fa fa-check-circle" title="Koltuk seç"/>
                                                </h:commandButton>
                                            </h:column>


                                        </h:dataTable>
                                    </div>

                                </div>
                            </h:form>

                        </f:view>
                    </div>
                </div>
            </div>


            <div class="row sameheight-container">
                <div class="col-md-11">
                    <div class="card card-block">
                        <div class="title-block">
                            <h3 class="title">Bilet Bilgileri</h3>
                        </div>
                        <h:form role="form" id="ticketForm">
                            <div class="row form-group">
                                <div class="col-lg-10">
                                    <h:dataTable id="ticketTablo" class="table table-hover"
                                                 value="#{ticketBean.ticketList}" var="t" rendered="true">

                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputLabel value="Status"/>
                                            </f:facet>
                                            <h:outputText value="#{t.status}"/>
                                            <f:facet name="footer">
                                                <h:selectOneMenu type="text" styleClass="form-control"
                                                                 value="#{ticketBean.ticket.status}"
                                                                 id="statusforticket">
                                                    <f:selectItem itemValue="OK" itemLabel="Okay"/>
                                                    <f:selectItem itemValue="CX" itemLabel="Cancelled"/>
                                                    <f:ajax execute="@this"></f:ajax>
                                                </h:selectOneMenu>
                                            </f:facet>
                                        </h:column>

                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputLabel value="Bilet No"/>
                                            </f:facet>
                                            <h:outputText value="#{t.tktNo}"/>
                                            <f:facet name="footer">
                                                <p:inputMask type="text" styleClass="form-control  "
                                                             name="biletNo" id="biletNo" mask="9999999999999"
                                                             pt:placeholder="Bilet No"
                                                             value="#{ticketBean.ticket.tktNo}"
                                                             requiredMessage="Lütfen Bilet Numaranızı Giriniz"
                                                             required="true">
                                                    <f:ajax execute="@this"></f:ajax>

                                                </p:inputMask>
                                                <span id="ticket-error" class="has-error"> <h:message
                                                        for="biletNo"/>
												</span>


                                            </f:facet>
                                        </h:column>


                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputLabel value="Alış Fiyatı"/>
                                            </f:facet>
                                            <h:outputText value="#{t.buyingAmount}"/>
                                            <f:facet name="footer">
                                                <h:inputText type="text" styleClass="form-control  "
                                                             name="alis" id="alis" pt:placeholder="Alış Fiyatı"
                                                             value="#{ticketBean.ticket.buyingAmount}"
                                                             requiredMessage="Lütfen Alış Giriniz" required="true">
                                                    <f:ajax execute="@this"></f:ajax>
                                                </h:inputText>
                                                <span id="alis-error" class="has-error"> <h:message
                                                        for="alis"/>
												</span>


                                            </f:facet>
                                        </h:column>

                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputLabel value="Satış Fiyatı"/>
                                            </f:facet>
                                            <h:outputText value="#{t.sellingAmount}"/>
                                            <f:facet name="footer">
                                                <h:inputText type="text" styleClass="form-control  "
                                                             name="satis" id="satis" default=""
                                                             pt:placeholder="Satış fiyatı"
                                                             value="#{ticketBean.ticket.sellingAmount}"
                                                             requiredMessage="Lütfen Satış Giriniz" required="true">

                                                </h:inputText>
                                                <span id="satis-error" class="has-error"> <h:message
                                                        for="satis"/>
												</span>
                                            </f:facet>
                                        </h:column>

                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputLabel value="Kur"/>
                                            </f:facet>
                                            <h:outputText value="#{t.buyingCurrency}"/>
                                            <f:facet name="footer">
                                                <h:selectOneMenu type="text" styleClass="form-control  "
                                                                 value="#{ticketBean.ticket.buyingCurrency}">
                                                    <f:selectItem itemValue="TR" itemLabel="TL"/>
                                                    <f:selectItem itemValue="EU" itemLabel="EURO"/>
                                                    <f:selectItem itemValue="DL" itemLabel="STERLIN"/>
                                                    <f:selectItem itemValue="RY" itemLabel="RIYAL"/>
                                                </h:selectOneMenu>
                                            </f:facet>
                                        </h:column>

                                        <!-- 										<h:column> -->
                                        <!-- 											<f:facet name="header"> -->
                                        <!-- 												<h:outputLabel value="Ödeme Tipi" /> -->
                                        <!-- 											</f:facet> -->
                                        <!-- 											<h:outputText value="#{t.paymentType.explanation}" /> -->
                                        <!-- 											<f:facet name="footer"> -->
                                        <!-- 												<h:selectOneMenu type="text" styleClass="form-control  " -->
                                        <!-- 													value="#{ticketBean.ticket.paymentType}"> -->
                                        <!-- 													<f:selectItems value="#{ticketBean.paymentTypes}" -->
                                        <!-- 														var="p"  itemLabel="#{p.explanation}" itemValue="#{p}" /> -->
                                        <!-- 												</h:selectOneMenu> -->


                                        <!-- 											</f:facet> -->
                                        <!-- 										</h:column> -->

                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputLabel value="Satış Tarihi"/>
                                            </f:facet>
                                            <h:outputText value="#{t.dos}"/>
                                            <f:facet name="footer">
                                                <p:calendar pt:placeholder="Satış Tarihi"
                                                            value="#{ticketBean.ticket.dos}" name="dateofsale" id="dos"
                                                            pattern="dd/MM/yyyy" mask="true" requiredMessage=""
                                                            required="true">
                                                </p:calendar>
                                                <span id="name-error" class="has-error"> <h:message
                                                        for="dos"/>
												</span>
                                            </f:facet>
                                        </h:column>

                                        <h:column>
                                            <f:facet name="header">
                                                <h:outputLabel value="İade Tarihi"/>
                                            </f:facet>
                                            <h:outputText value="#{t.dor}"/>
                                            <f:facet name="footer">
                                                <p:calendar pt:placeholder="Dor"
                                                            value="#{ticketBean.ticket.dor}" name="Dogum" id="dor"
                                                            pattern="dd/MM/yyyy" mask="true"/>


                                            </f:facet>
                                        </h:column>
                                    </h:dataTable>
                                    <div class="col-xs-2">
                                        <div class="row form-group">
                                            <h:commandButton value="Bilet Ekle" id="add-ticket"
                                                             action="#{ticketBean.saveTicket()}">
                                                <f:ajax execute="@form" render="ticketTablo"/>
                                                <i class="fa fa-check-circle" title="Add New"/>
                                            </h:commandButton>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </h:form>

                    </div>
                </div>
            </div>


            <script type="text/javascript">
                $.fn.setCursorPosition = function (pos) {
                    this.each(function (index, elem) {
                        if (elem.setSelectionRange) {
                            elem.setSelectionRange(pos, pos);
                        } else if (elem.createTextRange) {
                            var range = elem.createTextRange();
                            range.collapse(true);
                            range.moveEnd('character', pos);
                            range.moveStart('character', pos);
                            range.select();
                        }
                    });
                    return this;
                };

                $(document.getElementById("contactForm:mobile")).click(
                    function () {
                        $(document.getElementById("contactForm:mobile"))
                            .setCursorPosition(0);
                    });
                $(document.getElementById("contactForm:home")).click(
                    function () {
                        $(document.getElementById("contactForm:home"))
                            .setCursorPosition(0);
                    });
                $(document.getElementById("contactForm:work")).click(
                    function () {
                        $(document.getElementById("contactForm:work"))
                            .setCursorPosition(0);
                    });
                $(document.getElementById("ucusForm:ucusTablo:aacode"))
                    .click(
                        function () {
                            $(
                                document
                                    .getElementById("ucusForm:ucusTablo:aacode"))
                                .setCursorPosition(0);
                        });
                $(document.getElementById("ucusForm:ucusTablo:fltcode"))
                    .click(
                        function () {
                            $(
                                document
                                    .getElementById("ucusForm:ucusTablo:fltcode"))
                                .setCursorPosition(0);
                        });
                $(document.getElementById("pnrForm:pnr")).click(
                    function () {
                        $(document.getElementById("pnrForm:pnr"))
                            .setCursorPosition(0);
                    });
                $(document.getElementById("pnrForm:option")).click(
                    function () {
                        $(document.getElementById("pnrForm:option"))
                            .setCursorPosition(0);
                    });
                $(document.getElementById("pnrForm:recorddatepnr")).click(
                    function () {
                        $(document.getElementById("pnrForm:recorddatepnr"))
                            .setCursorPosition(0);
                    });
                $(document.getElementById("biletForm:biletTablo:biletNo"))
                    .click(
                        function () {
                            $(
                                document
                                    .getElementById("biletForm:biletTablo:biletNo"))
                                .setCursorPosition(0);
                        });
                $(document.getElementById("biletForm:biletTablo:alis"))
                    .click(
                        function () {
                            $(
                                document
                                    .getElementById("biletForm:biletTablo:alis"))
                                .setCursorPosition(1);
                        });
                $(document.getElementById("biletForm:biletTablo:satis"))
                    .click(
                        function () {
                            $(
                                document
                                    .getElementById("biletForm:biletTablo:satis"))
                                .setCursorPosition(1);
                        });


            </script>
        </ui:define>
    </ui:composition>
</h:body>
</html>






